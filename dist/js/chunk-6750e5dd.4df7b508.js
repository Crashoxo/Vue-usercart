(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6750e5dd"],{1799:function(t,e,n){"use strict";var c=n("7a23"),a={"aria-label":"Page navigation example"},i={class:"pagination justify-content-center"},o={class:"page-item"},s=Object(c["h"])("span",{"aria-hidden":"true"},"«",-1),r=[s],u=["onClick"],l={class:"page-item"},d=Object(c["h"])("span",{"aria-hidden":"true"},"»",-1),b=[d];function p(t,e,n,s,d,p){return Object(c["z"])(),Object(c["g"])("nav",a,[Object(c["h"])("ul",i,[Object(c["h"])("li",o,[Object(c["h"])("a",{onClick:e[0]||(e[0]=Object(c["W"])((function(){return p.preBtn&&p.preBtn.apply(p,arguments)}),["prevent"])),class:"page-link",href:"#","aria-label":"Previous"},r)]),(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["H"])(n.pages.total_pages,(function(t){return Object(c["z"])(),Object(c["g"])("li",{key:t,class:Object(c["s"])([{active:t===n.pages.current_page},"page-item"])},[Object(c["h"])("a",{onClick:Object(c["W"])((function(e){return p.updatePage(t)}),["prevent"]),class:"page-link",href:"#"},Object(c["M"])(t),9,u)],2)})),128)),Object(c["h"])("li",l,[Object(c["h"])("a",{onClick:e[1]||(e[1]=Object(c["W"])((function(){return p.nextBtn&&p.nextBtn.apply(p,arguments)}),["prevent"])),class:"page-link",href:"#","aria-label":"Next"},b)])])])}var h={props:["pages"],methods:{updatePage:function(t){this.$emit("emit-pages",t)},preBtn:function(){this.pages.has_pre&&this.$emit("emit-pages",this.pages.current_page-1)},nextBtn:function(){this.pages.has_next&&this.$emit("emit-pages",this.pages.current_page+1)}}},g=n("6b0d"),j=n.n(g);const O=j()(h,[["render",p]]);e["a"]=O},"1dde":function(t,e,n){var c=n("d039"),a=n("b622"),i=n("2d00"),o=a("species");t.exports=function(t){return i>=51||!c((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"61be":function(t,e,n){},8418:function(t,e,n){"use strict";var c=n("a04b"),a=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var o=c(e);o in t?a.f(t,o,i(0,n)):t[o]=n}},"86f7":function(t,e,n){"use strict";n("61be")},"99af":function(t,e,n){"use strict";var c=n("23e7"),a=n("da84"),i=n("d039"),o=n("e8b5"),s=n("861d"),r=n("7b0b"),u=n("07fa"),l=n("8418"),d=n("65f0"),b=n("1dde"),p=n("b622"),h=n("2d00"),g=p("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",f=a.TypeError,v=h>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),m=b("concat"),k=function(t){if(!s(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)},x=!v||!m;c({target:"Array",proto:!0,forced:x},{concat:function(t){var e,n,c,a,i,o=r(this),s=d(o,0),b=0;for(e=-1,c=arguments.length;e<c;e++)if(i=-1===e?o:arguments[e],k(i)){if(a=u(i),b+a>j)throw f(O);for(n=0;n<a;n++,b++)n in i&&l(s,b,i[n])}else{if(b>=j)throw f(O);l(s,b++,i)}return s.length=b,s}})},ba64:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),a=Object(c["h"])("h1",{class:"aaa"},"Hello world, askie.",-1),i={class:"container"},o={class:"row mt-4"},s={class:""},r={class:"table align-middle"},u=Object(c["h"])("thead",null,[Object(c["h"])("tr",null,[Object(c["h"])("th",null,"圖片"),Object(c["h"])("th",null,"商品名稱"),Object(c["h"])("th",null,"價格"),Object(c["h"])("th")])],-1),l={style:{width:"200px"}},d={href:"#",class:"text-dark"},b={key:0,class:"h5"},p={key:1,class:"h6"},h={key:2,class:"h5"},g={class:"btn-group btn-group-sm"},j=["onClick"],O=["onClick","disabled"],f={key:0,class:"spinner-grow spinner-grow-sm text-danger",role:"status"},v=Object(c["h"])("span",{class:"visually-hidden"},"Loading...",-1),m=[v],k=Object(c["j"])(" 加到購物車 ");function x(t,e,n,v,x,y){var P=this,w=Object(c["J"])("Loading"),z=Object(c["J"])("Pagination");return Object(c["z"])(),Object(c["g"])(c["a"],null,[a,Object(c["k"])(w,{active:x.isLoading},null,8,["active"]),Object(c["h"])("div",i,[Object(c["h"])("div",o,[Object(c["h"])("div",s,[Object(c["h"])("table",r,[u,Object(c["h"])("tbody",null,[(Object(c["z"])(!0),Object(c["g"])(c["a"],null,Object(c["H"])(x.products,(function(t){return Object(c["z"])(),Object(c["g"])("tr",{key:t.id},[Object(c["h"])("td",l,[Object(c["h"])("div",{style:Object(c["t"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)]),Object(c["h"])("td",null,[Object(c["h"])("a",d,Object(c["M"])(t.title),1)]),Object(c["h"])("td",null,[t.price?Object(c["f"])("",!0):(Object(c["z"])(),Object(c["g"])("div",b,Object(c["M"])(t.origin_price)+" 元 ",1)),t.price?(Object(c["z"])(),Object(c["g"])("del",p,"原價 "+Object(c["M"])(t.origin_price)+" 元",1)):Object(c["f"])("",!0),t.price?(Object(c["z"])(),Object(c["g"])("div",h," 現在只要 "+Object(c["M"])(t.price)+" 元 ",1)):Object(c["f"])("",!0)]),Object(c["h"])("td",null,[Object(c["h"])("div",g,[Object(c["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return y.getProduct(t.id)}}," 查看更多 ",8,j),Object(c["h"])("button",{onClick:function(e){return y.addCart(t.id)},disabled:P.status.loadingItem===t.id,type:"button",class:"btn btn-outline-danger"},[P.status.loadingItem===t.id?(Object(c["z"])(),Object(c["g"])("div",f,m)):Object(c["f"])("",!0),k],8,O)])])])})),128))])])])]),Object(c["k"])(z,{pages:x.pagination,onEmitPages:y.getProductsPage},null,8,["pages","onEmitPages"])])],64)}n("99af");var y=n("1799"),P={data:function(){return{products:[],product:{},status:{loadingItem:""},cart:{},orderId:"",pagination:{},isLoading:!1}},components:{Pagination:y["a"]},inject:["emitter"],methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("rouoxo","/products/all");this.isLoading=!0,this.$http.get(e).then((function(e){t.products=e.data.products,console.log("products:",e),t.isLoading=!1}))},getProduct:function(t){this.$router.push("/user/product/".concat(t))},addCart:function(t){var e=this;this.status.loadingItem=t,console.log("id",t);var n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("rouoxo","/cart"),c={product_id:t,qty:1};this.$http.post(n,{data:c}).then((function(t){e.status.loadingItem="",console.log("res",t),e.$router.push("/user/cart")}))},getProductsPage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("rouoxo","/admin/products/?page=").concat(e);this.isLoading=!0,console.log("api",n),this.$http.get(n).then((function(e){t.isLoading=!1,e.data.success&&(console.log("res",e),t.products=e.data.products,t.pagination=e.data.pagination)}))}},created:function(){this.getProducts()}},w=(n("86f7"),n("6b0d")),z=n.n(w);const C=z()(P,[["render",x]]);e["default"]=C}}]);
//# sourceMappingURL=chunk-6750e5dd.4df7b508.js.map