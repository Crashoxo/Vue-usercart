{"remainingRequest":"C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\user\\Desktop\\demo\\Vue-cart\\src\\components\\ProductModal.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\user\\Desktop\\demo\\Vue-cart\\src\\components\\ProductModal.vue","mtime":1636715925350},{"path":"C:\\Users\\user\\Desktop\\demo\\Vue-cart\\babel.config.js","mtime":1636350343535},{"path":"C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\demo\\Vue-cart\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8gQCA9IHNyYwppbXBvcnQgbW9kYWxNaXhpbiBmcm9tICJAL21peGlucy9tb2RhbE1peGluIjsgLy8gMi7oo73kvZzlhYPku7bmlrnms5UKCmV4cG9ydCBkZWZhdWx0IHsKICAvLyBwcm9wc+WkluWCs+WFp++8jHByb3Bz5o6l5pS2CiAgcHJvcHM6IHsKICAgIHByb2R1Y3Q6IHsKICAgICAgLy8g5pS25Yiw54mp5Lu26KGo56S65pS25Yiw6LOH5paZKOS/ruaUuSkqKioqKioqKioKICAgICAgdHlwZTogT2JqZWN0LAogICAgICAvLyDpoJDoqK3lgLwg5aaC5p6cdGVtcFByb2R1Y3TmspLlgrPpgZ7pgLLkvoYo5paw5aKeKSoqKioqKioqKgogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICAvL+epuueJqeS7tgogICAgICAgIHJldHVybiB7fTsKICAgICAgfQogICAgfQogIH0sCiAgLy8g55uj6IG977yM5aaC5p6ccHJvZHVjdOiuiuabtCDlr6vlhaUKICB3YXRjaDogewogICAgcHJvZHVjdDogZnVuY3Rpb24gcHJvZHVjdCgpIHsKICAgICAgdGhpcy50ZW1wUHJvZHVjdCA9IHRoaXMucHJvZHVjdDsKICAgIH0KICB9LAogIG1peGluczogW21vZGFsTWl4aW5dLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyAzLuijveS9nOi3s+eql+WAieW6qwogICAgICBtb2RhbDoge30sCiAgICAgIC8vIOaOpeaUtuWkluWxpChwcm9kdWN0cy52dWUp6Ly45YWl6LOH5paZIOWAieW6qyBPciB2LW1vZGVsCiAgICAgIHRlbXBQcm9kdWN0OiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vICAgaHR0cHM6Ly9ib290c3RyYXA1LmhleHNjaG9vbC5jb20vZG9jcy81LjEvY29tcG9uZW50cy9tb2RhbC8jbWV0aG9kcwogICAgdXBsb2FkZmlsZTogZnVuY3Rpb24gdXBsb2FkZmlsZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIOaKk+WPluaqlOahiAogICAgICAvLyB0aGlzLiRyZWZzLmZpbGVJbnB1dCA9IHJlZj0iZmlsZUlucHV0IgogICAgICB2YXIgdXBsb2FkZmlsZSA9IHRoaXMuJHJlZnMuZmlsZUlucHV0LmZpbGVzWzBdOwogICAgICBjb25zb2xlLmRpcih1cGxvYWRmaWxlKTsgLy8g6KO95L2c5oiQRm9ybURhdGHmoLzlvI8KICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2hleHNjaG9vbC92dWUzLWNvdXJzZS1hcGktd2lraS93aWtpLyVFNyVBRSVBMSVFNyU5MCU4NiVFNiU4RSVBNyVFNSU4OCVCNiVFNSU4RiVCMC0lNUIlRTklOUMlODAlRTklQTklOTclRTglQUQlODklNUQjJUU0JUI4JThBJUU1JTgyJUIzJUU1JTlDJTk2JUU3JTg5JTg3CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsgLy9KcwoKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlLXRvLXVwbG9hZCIsIHVwbG9hZGZpbGUpOyAvLyAiZmlsZS10by11cGxvYWQiIEFQSeaOpeaUtuagvOW8jwogICAgICAvL0FQSeaUtuWclueJhyDooajllq7lgrPpgIEgYWN0aW9uCgogICAgICB2YXIgdXJsID0gIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJLCAiYXBpLyIpLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX1BBVEgsICIvYWRtaW4vdXBsb2FkIik7IC8vICBheGlvcyBwb3N0KGFwaSwg5qyy5YKz6YCB55qE5YC8KeaWueazleaWueazlQoKICAgICAgdGhpcy4kaHR0cC5wb3N0KHVybCwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzLnRlbXBQcm9kdWN0LmltYWdlVXJsID0gcmVzcG9uc2UuZGF0YS5pbWFnZVVybDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:\\Users\\user\\Desktop\\demo\\Vue-cart\\src\\components\\ProductModal.vue"],"names":[],"mappings":";AAiMA;AACA,OAAO,UAAP,MAAuB,qBAAvB,C,CAEA;;AACA,eAAe;AACb;AACA,EAAA,KAAK,EAAE;AACL,IAAA,OAAO,EAAE;AACP;AACA,MAAA,IAAI,EAAE,MAFC;AAGP;AACA,MAAA,OAJO,sBAIG;AACR;AACA,eAAO,EAAP;AACD;AAPM;AADJ,GAFM;AAab;AACA,EAAA,KAAK,EAAE;AACL,IAAA,OADK,qBACK;AACR,WAAK,WAAL,GAAmB,KAAK,OAAxB;AACD;AAHI,GAdM;AAmBb,EAAA,MAAM,EAAE,CAAC,UAAD,CAnBK;AAoBb,EAAA,IApBa,kBAoBN;AACL,WAAO;AACL;AACA,MAAA,KAAK,EAAE,EAFF;AAGL;AACA,MAAA,WAAW,EAAE;AAJR,KAAP;AAMD,GA3BY;AA4Bb,EAAA,OAAO,EAAE;AACP;AAEA,IAAA,UAHO,wBAGM;AAAA;;AACX;AACA;AACA,UAAM,UAAS,GAAI,KAAK,KAAL,CAAW,SAAX,CAAqB,KAArB,CAA2B,CAA3B,CAAnB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAJW,CAKX;AACA;;AACA,UAAM,QAAO,GAAI,IAAI,QAAJ,EAAjB,CAPW,CAOsB;;AACjC,MAAA,QAAQ,CAAC,MAAT,CAAgB,gBAAhB,EAAkC,UAAlC,EARW,CAQoC;AAE/C;;AACA,UAAM,GAAE,aAAO,OAAO,CAAC,GAAR,CAAY,WAAnB,iBAAqC,OAAO,CAAC,GAAR,CAAY,YAAjD,kBAAR,CAXW,CAYX;;AACA,WAAK,KAAL,CAAW,IAAX,CAAgB,GAAhB,EAAqB,QAArB,EAA+B,IAA/B,CAAoC,UAAC,QAAD,EAAc;AAChD,QAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAArB;;AACA,YAAI,QAAQ,CAAC,IAAT,CAAc,OAAlB,EAA2B;AACzB,UAAA,KAAI,CAAC,WAAL,CAAiB,QAAjB,GAA4B,QAAQ,CAAC,IAAT,CAAc,QAA1C;AACF;AACD,OALD;AAMD;AAtBM;AA5BI,CAAf","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 1. 放入 BS Modal -->\r\n    <!-- 4. ref似id 之後可以用this.$refs抓-->\r\n    <div\r\n      ref=\"modal\"\r\n      class=\"modal fade\"\r\n      id=\"exampleModal\"\r\n      tabindex=\"-1\"\r\n      role=\"dialog\"\r\n      aria-labelledby=\"exampleModalLabel\"\r\n      aria-hidden=\"true\"\r\n    >\r\n      <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n        <div class=\"modal-content border-0\">\r\n          <div class=\"modal-header bg-dark text-white\">\r\n            <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n              <span>新增產品</span>\r\n            </h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\"\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-sm-4\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"image\"\r\n                    placeholder=\"請輸入圖片連結\"\r\n                  />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"customFile\" class=\"form-label\"\r\n                    >或 上傳圖片\r\n                    <i class=\"fas fa-spinner fa-spin\"></i>\r\n                  </label>\r\n                  <input\r\n                    v-on:change=\"uploadfile\"\r\n                    ref=\"fileInput\"\r\n                    type=\"file\"\r\n                    id=\"customFile\"\r\n                    class=\"form-control\"\r\n                  />\r\n                </div>\r\n                <img class=\"img-fluid\" alt=\"\" />\r\n                <!-- 延伸技巧，多圖 -->\r\n                <div class=\"mt-5\">\r\n                  <div class=\"mb-3 input-group\">\r\n                    <input\r\n                      type=\"url\"\r\n                      class=\"form-control form-control\"\r\n                      placeholder=\"請輸入連結\"\r\n                    />\r\n                    <button type=\"button\" class=\"btn btn-outline-danger\">\r\n                      移除\r\n                    </button>\r\n                  </div>\r\n                  <div>\r\n                    <button\r\n                      class=\"btn btn-outline-primary btn-sm d-block w-100\"\r\n                    >\r\n                      新增圖片\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-sm-8\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"title\" class=\"form-label\">標題</label>\r\n                  <input\r\n                    v-model=\"tempProduct.title\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"title\"\r\n                    placeholder=\"請輸入標題\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"row gx-2\">\r\n                  <div class=\"mb-3 col-md-6\">\r\n                    <label for=\"category\" class=\"form-label\">分類</label>\r\n                    <input\r\n                      v-model=\"tempProduct.category\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      id=\"category\"\r\n                      placeholder=\"請輸入分類\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"mb-3 col-md-6\">\r\n                    <label for=\"price\" class=\"form-label\">單位</label>\r\n                    <input\r\n                      v-model=\"tempProduct.unit\"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      id=\"unit\"\r\n                      placeholder=\"請輸入單位\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"row gx-2\">\r\n                  <div class=\"mb-3 col-md-6\">\r\n                    <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                    <input\r\n                      v-model.number=\"tempProduct.origin_price\"\r\n                      type=\"number\"\r\n                      class=\"form-control\"\r\n                      id=\"origin_price\"\r\n                      placeholder=\"請輸入原價\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"mb-3 col-md-6\">\r\n                    <label for=\"price\" class=\"form-label\">售價</label>\r\n                    <input\r\n                      v-model.number=\"tempProduct.price\"\r\n                      type=\"number\"\r\n                      class=\"form-control\"\r\n                      id=\"price\"\r\n                      placeholder=\"請輸入售價\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n\r\n                <div class=\"mb-3\">\r\n                  <label for=\"description\" class=\"form-label\">產品描述</label>\r\n                  <textarea\r\n                    v-model=\"tempProduct.description\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"description\"\r\n                    placeholder=\"請輸入產品描述\"\r\n                  ></textarea>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"content\" class=\"form-label\">說明內容</label>\r\n                  <textarea\r\n                    v-model=\"tempProduct.content\"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    id=\"content\"\r\n                    placeholder=\"請輸入產品說明內容\"\r\n                  ></textarea>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <div class=\"form-check\">\r\n                    <input\r\n                      v-model=\"tempProduct.is_enabled\"\r\n                      class=\"form-check-input\"\r\n                      type=\"checkbox\"\r\n                      :true-value=\"1\"\r\n                      :false-value=\"0\"\r\n                      id=\"is_enabled\"\r\n                    />\r\n                    <label class=\"form-check-label\" for=\"is_enabled\">\r\n                      是否啟用\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-outline-secondary\"\r\n              data-bs-dismiss=\"modal\"\r\n            >\r\n              取消\r\n            </button>\r\n            <!-- $emit 資料內傳外 -->\r\n            <button\r\n              v-on:click=\"$emit('update-product', tempProduct)\"\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n            >\r\n              確認\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// @ = src\r\nimport modalMixin from \"@/mixins/modalMixin\";\r\n\r\n// 2.製作元件方法\r\nexport default {\r\n  // props外傳內，props接收\r\n  props: {\r\n    product: {\r\n      // 收到物件表示收到資料(修改)*********\r\n      type: Object,\r\n      // 預設值 如果tempProduct沒傳遞進來(新增)*********\r\n      default() {\r\n        //空物件\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  // 監聽，如果product變更 寫入\r\n  watch: {\r\n    product() {\r\n      this.tempProduct = this.product;\r\n    },\r\n  },\r\n  mixins: [modalMixin],\r\n  data() {\r\n    return {\r\n      // 3.製作跳窗倉庫\r\n      modal: {},\r\n      // 接收外層(products.vue)輸入資料 倉庫 Or v-model\r\n      tempProduct: {},\r\n    };\r\n  },\r\n  methods: {\r\n    //   https://bootstrap5.hexschool.com/docs/5.1/components/modal/#methods\r\n\r\n    uploadfile() {\r\n      // 抓取檔案\r\n      // this.$refs.fileInput = ref=\"fileInput\"\r\n      const uploadfile = this.$refs.fileInput.files[0];\r\n      console.dir(uploadfile);\r\n      // 製作成FormData格式\r\n      // https://github.com/hexschool/vue3-course-api-wiki/wiki/%E7%AE%A1%E7%90%86%E6%8E%A7%E5%88%B6%E5%8F%B0-%5B%E9%9C%80%E9%A9%97%E8%AD%89%5D#%E4%B8%8A%E5%82%B3%E5%9C%96%E7%89%87\r\n      const formData = new FormData(); //Js\r\n      formData.append(\"file-to-upload\", uploadfile); // \"file-to-upload\" API接收格式\r\n\r\n      //API收圖片 表單傳送 action\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\r\n      //  axios post(api, 欲傳送的值)方法方法\r\n      this.$http.post(url, formData).then((response) => {\r\n        console.log(response.data);\r\n        if (response.data.success) {\r\n          this.tempProduct.imageUrl = response.data.imageUrl;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":""}]}